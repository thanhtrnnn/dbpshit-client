ID: DEMO-024
Tiêu đề: Chỉnh sửa thông tin giao hàng
URL WEB: <a href="https://db.ptit.edu.vn/question-detail/8f2eef00-8ad4-4832-a590-cedb3423a5f7" target="_blank" rel="noopener">https://db.ptit.edu.vn/question-detail/8f2eef00-8ad4-4832-a590-cedb3423a5f7</a>
URL API: <a href="https://dbapi.ptit.edu.vn/api/app/question/8f2eef00-8ad4-4832-a590-cedb3423a5f7" target="_blank" rel="noopener">https://dbapi.ptit.edu.vn/api/app/question/8f2eef00-8ad4-4832-a590-cedb3423a5f7</a>
Loại Database: Mysql
------------------------------

<p>Trong cơ sở dữ liệu hiện tại, bảng <strong>DeliveryOrders</strong> đang được tạo như sau:</p><pre class="ql-syntax" spellcheck="false">CREATE TABLE DeliveryOrders (
&nbsp; &nbsp; order_item_id INT,
&nbsp; &nbsp; order_id VARCHAR(50),
&nbsp; &nbsp; customer_phone VARCHAR(50),
&nbsp; &nbsp; address VARCHAR(255),
&nbsp; &nbsp; shipping_method VARCHAR(50),
&nbsp; &nbsp; shipping_fee INT,
&nbsp; &nbsp; cod_amount INT,
&nbsp; &nbsp; delivery_status VARCHAR(20),
&nbsp; &nbsp; created_text VARCHAR(50),
&nbsp; &nbsp; temp_note VARCHAR(255)
);
</pre><p>Thiết kế trên còn nhiều vấn đề:</p><p><strong>order_item_id</strong></p><ul><li>Mới chỉ là INT bình thường.</li><li>Đây là mã chi tiết hàng giao trong từng đơn, dùng để phân biệt từng dòng dữ liệu.</li><li>Cần được sử dụng để định danh duy nhất, <strong>không được để trống</strong> và <strong>tự tăng</strong> khi thêm bản ghi mới.</li><li>Nên được dùng làm <strong>khóa chính</strong> của bảng.</li></ul><p><strong>order_id</strong></p><ul><li>Đang là VARCHAR(50) nhưng không có ràng buộc gì.</li><li>Mã đơn hàng là thông tin bắt buộc, nên cột này <strong>không được để trống</strong>.</li></ul><p><strong>customer_phone</strong></p><ul><li>Đang là VARCHAR(50) nhưng có thể nhập thiếu hoặc để trống.</li><li>Số điện thoại nhận hàng là bắt buộc, cần <strong>không được để trống</strong>; độ dài chuỗi thu gọn xuống 20 cho hợp lý.</li></ul><p><strong>address</strong></p><ul><li>Đang là VARCHAR(255) cho phép để trống.</li><li>Địa chỉ giao hàng là thông tin quan trọng, nên cột này cần <strong>không được để trống</strong>.</li></ul><p><strong>shipping_method</strong></p><ul><li>Đang là VARCHAR(50) tự do, dễ nhập sai.</li><li>Hệ thống chỉ hỗ trợ 3 phương thức giao hàng:</li><li class="ql-indent-1">'STANDARD' (giao thường)</li><li class="ql-indent-1">'EXPRESS' (giao nhanh)</li><li class="ql-indent-1">'SAME_DAY' (giao trong ngày)</li><li>Cần giới hạn giá trị theo 3 lựa chọn trên, <strong>không được để trống</strong>, mặc định là <strong>'STANDARD'.</strong></li></ul><p><strong>shipping_fee</strong></p><ul><li>Đang là INT, trong khi phí vận chuyển có thể cần phần thập phân.</li><li>Cần chuyển sang kiểu số thực với tối đa 10 chữ số, trong đó 2 chữ số sau dấu phẩy thập phân, <strong>không được để trống</strong>, giá trị mặc định là <strong>0</strong>.</li></ul><p><strong>cod_amount</strong></p><ul><li>Đang là INT, cũng có thể cần phần thập phân nếu có quy đổi tỷ giá.</li><li>Nên chuyển sang kiểu số thực với tối đa 10 chữ số, trong đó 2 chữ số sau dấu phẩy thập phân, <strong>không được để trống</strong>, giá trị mặc định là <strong>0</strong>.</li></ul><p><strong>delivery_status</strong></p><ul><li>Đang là VARCHAR(20) tự do.</li><li>Hệ thống chỉ dùng các trạng thái sau cho quá trình giao hàng:</li><li class="ql-indent-1">'PENDING' (chờ xử lý)</li><li class="ql-indent-1">'SHIPPING' (đang giao)</li><li class="ql-indent-1">'DELIVERED' (đã giao thành công)</li><li class="ql-indent-1">'RETURNED' (bị hoàn về)</li><li class="ql-indent-1">'CANCELLED' (đã hủy)</li><li>Cần giới hạn theo các trạng thái trên, <strong>không được để trống</strong>, mặc định là <strong>'PENDING'.</strong></li></ul><p><strong>created_text</strong></p><ul><li>Đang là VARCHAR(50) nhưng đây là thời điểm tạo bản ghi giao hàng.</li><li>Cần dùng kiểu ngày giờ phù hợp, với giá trị mặc định là <strong>thời điểm hiện tại</strong> khi thêm dữ liệu.</li></ul><p><strong>Thêm cột mới: updated_at</strong></p><ul><li>Cần thêm cột để lưu thời điểm cập nhật gần nhất của bản ghi giao hàng.</li><li>Kiểu ngày giờ, có thể để trống nếu chưa từng cập nhật.</li></ul><p><strong>temp_note</strong></p><ul><li>Là cột ghi chú tạm trong quá trình nhập liệu.</li><li>Hiện tại không còn sử dụng nữa, nên cần <strong>xóa khỏi bảng</strong>.</li></ul><p><br></p><p><strong>Yêu cầu:</strong></p><p>Dùng các câu lệnh SQL để thực hiện tất cả các thay đổi đã mô tả ở trên.</p>