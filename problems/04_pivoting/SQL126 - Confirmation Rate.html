ID: SQL126
Tiêu đề: Confirmation Rate
URL WEB: <a href="https://db.ptit.edu.vn/question-detail/381fd68a-456e-4545-aa45-e2d4b322a82e" target="_blank" rel="noopener">https://db.ptit.edu.vn/question-detail/381fd68a-456e-4545-aa45-e2d4b322a82e</a>
URL API: <a href="https://dbapi.ptit.edu.vn/api/app/question/381fd68a-456e-4545-aa45-e2d4b322a82e" target="_blank" rel="noopener">https://dbapi.ptit.edu.vn/api/app/question/381fd68a-456e-4545-aa45-e2d4b322a82e</a>
Loại Database: Mysql
------------------------------

<p><strong>Bảng: Signups</strong></p><p><img src="<a href="https://dbapi.ptit.edu.vn/api/app/media/files/2024-12-23/1734927682734_image.png" target="_blank" rel="noopener">https://dbapi.ptit.edu.vn/api/app/media/files/2024-12-23/1734927682734_image.png</a>"></p><ul><li>user_id là cột có giá trị duy nhất trong bảng này.</li><li>Mỗi hàng chứa thông tin về thời gian đăng ký (time_stamp) của người dùng với user_id.</li></ul><p><br></p><p><strong>Bảng: Confirmations</strong></p><p><img src="<a href="https://dbapi.ptit.edu.vn/api/app/media/files/2024-12-23/1734927706320_image.png" target="_blank" rel="noopener">https://dbapi.ptit.edu.vn/api/app/media/files/2024-12-23/1734927706320_image.png</a>"></p><ul><li>(user_id, time_stamp) là khóa chính (kết hợp các cột có giá trị duy nhất).</li><li>user_id là khóa ngoại (foreign key) tham chiếu đến bảng Signups.</li><li>action là kiểu ENUM với các giá trị ('confirmed', 'timeout'):</li><li class="ql-indent-1">'confirmed' nghĩa là người dùng đã xác nhận.</li><li class="ql-indent-1">'timeout' nghĩa là thông báo xác nhận hết thời gian mà không được xác nhận.</li></ul><p><strong>Yêu cầu:</strong></p><p>Tỷ lệ xác nhận (<strong>confirmation rate</strong>) của một người dùng được tính bằng:</p><p>Số lượng thông báo được xác nhận ('confirmed') chia cho tổng số thông báo yêu cầu xác nhận.</p><ul><li>Nếu người dùng không yêu cầu bất kỳ thông báo xác nhận nào, tỷ lệ xác nhận của họ là 0.</li><li>Làm tròn tỷ lệ xác nhận đến hai chữ số thập phân.</li></ul><p>Viết giải pháp để tính toán tỷ lệ xác nhận của mỗi người dùng.</p><p><br></p><h3>Ví dụ:</h3><p><strong>Đầu vào:</strong></p><p><strong>Bảng Signups:</strong></p><p><img src="<a href="https://dbapi.ptit.edu.vn/api/app/media/files/2024-12-23/1734927738990_image.png" target="_blank" rel="noopener">https://dbapi.ptit.edu.vn/api/app/media/files/2024-12-23/1734927738990_image.png</a>"></p><p><strong>Bảng Confirmations:</strong></p><p><img src="<a href="https://dbapi.ptit.edu.vn/api/app/media/files/2024-12-23/1734927757129_image.png" target="_blank" rel="noopener">https://dbapi.ptit.edu.vn/api/app/media/files/2024-12-23/1734927757129_image.png</a>"></p><p><strong>Đầu ra:</strong></p><p><img src="<a href="https://dbapi.ptit.edu.vn/api/app/media/files/2024-12-23/1734927771916_image.png" target="_blank" rel="noopener">https://dbapi.ptit.edu.vn/api/app/media/files/2024-12-23/1734927771916_image.png</a>"></p><p><br></p><p><strong>Giải thích:</strong></p><ul><li><strong>Người dùng 6</strong>: Không yêu cầu thông báo xác nhận nào, nên tỷ lệ xác nhận là 0.00.</li><li><strong>Người dùng 3</strong>: Gửi 2 yêu cầu, cả hai đều hết thời gian (timeout), nên tỷ lệ xác nhận là 0.00.</li><li><strong>Người dùng 7</strong>: Gửi 3 yêu cầu, tất cả đều được xác nhận (confirmed), nên tỷ lệ xác nhận là 1.00.</li><li><strong>Người dùng 2</strong>: Gửi 2 yêu cầu, 1 được xác nhận và 1 hết thời gian, nên tỷ lệ xác nhận là 1 / 2 = 0.50.</li></ul><p><br></p>